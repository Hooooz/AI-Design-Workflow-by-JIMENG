# DEV_MEMORY.md - 项目开发记忆

## 🏗️ 当前架构图
- **前端**: Vercel (Next.js)
- **后端**: Railway (FastAPI)
- **存储**: Supabase (Database & Storage) - **[已实现纯云端化]**
- **AI 引擎**: Gemini 2.5 Flash + 即梦 JIMENG

## 📅 任务进度 (2025-01-17)
- [x] **重构存储层**: 彻底移除本地磁盘 I/O，全面切换至 Supabase。
- [x] **修复图片 Bug**: 解决路径二次哈希导致的 404 错误。
- [x] **部署路径优化**: 修正模块导入路径，确保 Railway 成功启动。
- [ ] **历史数据迁移**: **[当前任务]** 将本地 `projects/` 数据迁移至 Supabase。

## ⚠️ 已知问题 (Known Issues)
- **旧数据断层**: 重构后默认不读取本地磁盘，导致用户感官上历史项目消失。
- **图片路径 IP 残留**: 部分旧项目图片记录为 `47.89.249.90`，需通过 `fix_image_urls` 实时拦截转换。

## 💡 技术债务 (Tech Debt)
- 缺乏自动化的数据同步检查机制。
- 迁移脚本尚未集成到自动部署流程中。
